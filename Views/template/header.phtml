<?php
// 确保包含 Authentication 类
if (!class_exists('Authentication')) {
    // Auth.php 文件路径（根据你的文件结构）
    require_once 'Model/Auth.php';
}
?>

    <!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="TilePlan Survey Website - Professional tile planning solutions">
    <meta name="author" content="TilePlan">

    <title>TilePlan Survey</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

    <link href="/Views/css/my-style.css" rel="stylesheet">

</head>

<body role="document">

<div class="container-fluid p-0">
    <header class="navbar navbar-expand-lg border-bottom shadow-sm bg-white" id="title">
        <div class="container-fluid">
            <a href="../../index.php?page=home" class="navbar-brand me-4">
                <img src="images/logo-image/TilePlan.png" alt="TilePlan Logo" class="logo-img" style="height: 58px; width: 58px; border-radius: 6px;" />
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#responsiveNavbar" aria-controls="responsiveNavbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="responsiveNavbar">
                <nav class="navbar-nav me-auto mb-2 mb-lg-0 align-items-lg-center">
                    <a class="nav-link active" href="../../index.php?page=home">Home <span class="visually-hidden">(current)</span></a>

                    <a class="nav-link" href="/browse.php">Browse Tiles</a>
                    <?php if (Authentication::isLoggedIn() && in_array(Authentication::getUserRole(), ['admin','operator','staff'])): ?>
                    <a class="nav-link" href="/quote.php"> Quotes</a>
                    <a class="nav-link" href="/map.php">Map</a>
                    <?php endif; ?>


                    <div class="ms-lg-4 mt-2 mt-lg-0">
                        <?php if (Authentication::isLoggedIn()): ?>
                            <span class="navbar-text text-dark">Welcome: <strong><?= htmlspecialchars(Authentication::full_name()) ?></strong></span>
                        <?php endif; ?>
                    </div>
                </nav>

                <div class="d-flex align-items-center ms-auto">

                        <div class="account-menu">
                            <button class="account-trigger icon-button" id="accountTriggerBtn">
                                <i class="fa fa-user-circle" style="font-size: 48px;"></i>
                            </button>

                            <ul class="account-dropdown" id="accountDropdownList">
                               <?php if (Authentication::isLoggedIn()): ?>
                                   <li><a href="/wishlist.php">Wish-list</a></li>
                                   <li><a href="/UserController.php">User info</a></li>
                                   <li><a href="/Login.php?logout=1">Log-Out</a></li>
                               <?php else: ?>
                               <li></li>
                                   <li><a href="/Login.php">Log-In</a></li>
                               <?php endif; ?>
                            </ul>
                        </div>



                </div>
            </div>
        </div>
    </header>
</div>


<?php /* 请确保您的主页模板在 </body> 标签前包含以下脚本：

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

*/ ?>

